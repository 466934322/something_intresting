<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body,
        html,
        #allmap {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
            font-family: "微软雅黑";
        }
    </style>
    <script src="https://cdn.plyr.io/3.3.7/plyr.js"></script>
    <script src="js/player.js"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.3.7/plyr.css">
    <link rel="stylesheet" href="css/player.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <title>Radio Code</title>
</head>

<body>
    <div id="allmap"></div>
    <div class="radio-player-container" id="radio-player-container">
        <div class="audio">
            <audio id="player" autoplay loop>
                <source id='player-src' src="media/zero.mp3">
            </audio>
        </div>
        <div class="playlist" id="playlist">
            <div class='playlist-header' id="playlist-header" onclick="toggleFold()">
                <dt>
                    <dl>
                        <label>正在播放-{{ cur_ch }}</label>
                        <i class="icon icon-arrow-right"></i>
                    </dl>
                    <dt>
            </div>
            <div class='playlist-body' id="playlist-body">
                <dt v-for="ch in ch_list">
                    <dl v-on:click="play(ch.src, ch.name)">{{ ch.name }}</dl>
                </dt>
            </div>
            <div class='pagination'>
                <dt>
                    <dl>
                        <label class='pagination-label'>{{ cur_page }}</label>
                        <label class='pagination-label'>|</label>
                        <label class='pagination-label'>{{ total_page }}</label>
                        <label class='pagination-label'><a href="#" v-on:click="pageUp()">上一页</a></label>
                        <label class='pagination-label'><a href="#" v-on:click="pageDown()">下一页</a></label>
                    </dl>
                </dt>
            </div>
        </div>
    </div>
</body>

</html>
<script type="text/javascript">
    //百度地图API功能
    function loadJScript() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://api.map.baidu.com/api?v=2.0&ak=gUauia1RTNGjAEr09Dc3fFNtcTRN0AWm&callback=init";
        document.body.appendChild(script);

        //初始化vue
        window.vueapp = new VueApp("radio-player-container");

        //初始化播放器
        window.radioapp = new RadioCodeApp('player');
    }
    function init() {
        var map = new BMap.Map("allmap", { minZoom: 4, maxZoom: 8 });            // 创建Map实例
        var point = new BMap.Point(116.404, 39.915); // 创建点坐标
        var top_left_control = new BMap.NavigationControl(); //左上角的缩放控件
        map.addControl(top_left_control);
        var mapStyle = {
            features: ["water", "land"],//隐藏地图上的poi
        }
        map.setMapStyle(mapStyle);
        map.centerAndZoom(point, 5);
        map.enableScrollWheelZoom();                 //启用滚轮放大缩小
    }
    window.onload = loadJScript;  //异步加载地图
</script>